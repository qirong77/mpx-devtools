<template>
  <scroll-view class="container" scroll-y="true" style="height: 100vh;">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <view class="header card">
      <view class="title">ğŸ§© UI ç»„ä»¶å±•ç¤º</view>
      <view class="subtitle">å±•ç¤ºå„ç§å¸¸ç”¨çš„å°ç¨‹åº UI ç»„ä»¶</view>
    </view>

    <!-- æŒ‰é’®ç»„ä»¶å±•ç¤º -->
    <view class="section">
      <view class="section-title">æŒ‰é’®ç»„ä»¶</view>
      <demo-section title="åŸºç¡€æŒ‰é’®">
        <view class="button-group">
          <button class="btn-primary" bindtap="showToast" data-message="ç‚¹å‡»äº†ä¸»æŒ‰é’®">ä¸»æŒ‰é’®</button>
          <button class="btn-secondary" bindtap="showToast" data-message="ç‚¹å‡»äº†æ¬¡æŒ‰é’®">æ¬¡æŒ‰é’®</button>
          <button class="btn-success" bindtap="showToast" data-message="ç‚¹å‡»äº†æˆåŠŸæŒ‰é’®">æˆåŠŸ</button>
          <button class="btn-warning" bindtap="showToast" data-message="ç‚¹å‡»äº†è­¦å‘ŠæŒ‰é’®">è­¦å‘Š</button>
          <button class="btn-danger" bindtap="showToast" data-message="ç‚¹å‡»äº†å±é™©æŒ‰é’®">å±é™©</button>
        </view>
      </demo-section>

      <demo-section title="æŒ‰é’®å°ºå¯¸">
        <view class="button-group">
          <button class="btn-primary btn-large">å¤§æŒ‰é’®</button>
          <button class="btn-primary btn-medium">ä¸­æŒ‰é’®</button>
          <button class="btn-primary btn-small">å°æŒ‰é’®</button>
        </view>
      </demo-section>
    </view>

    <!-- è¡¨å•ç»„ä»¶å±•ç¤º -->
    <view class="section">
      <view class="section-title">è¡¨å•ç»„ä»¶</view>
      <demo-section title="è¾“å…¥æ¡†">
        <view class="form-group">
          <input class="input-field" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" value="{{formData.username}}" bindinput="onUsernameInput" />
          <input class="input-field" type="number" placeholder="è¯·è¾“å…¥å¹´é¾„" value="{{formData.age}}" bindinput="onAgeInput" />
          <textarea class="textarea-field" placeholder="è¯·è¾“å…¥æè¿°..." value="{{formData.description}}" bindinput="onDescriptionInput"></textarea>
        </view>
      </demo-section>

      <demo-section title="é€‰æ‹©å™¨">
        <view class="picker-group">
          <picker mode="selector" range="{{cities}}" bindchange="onCityChange">
            <view class="picker-item">
              é€‰æ‹©åŸå¸‚ï¼š{{cities[cityIndex] || 'è¯·é€‰æ‹©'}}
            </view>
          </picker>
          <picker mode="date" bindchange="onDateChange">
            <view class="picker-item">
              é€‰æ‹©æ—¥æœŸï¼š{{selectedDate || 'è¯·é€‰æ‹©'}}
            </view>
          </picker>
        </view>
      </demo-section>

      <demo-section title="å¼€å…³å’Œæ»‘å—">
        <view class="control-group">
          <view class="control-item">
            <text>å¯ç”¨é€šçŸ¥</text>
            <switch checked="{{switchValue}}" bindchange="onSwitchChange" />
          </view>
          <view class="control-item">
            <text>éŸ³é‡æ§åˆ¶ï¼š{{sliderValue}}%</text>
            <slider value="{{sliderValue}}" min="0" max="100" bindchange="onSliderChange" />
          </view>
        </view>
      </demo-section>
    </view>

    <!-- åˆ—è¡¨ç»„ä»¶å±•ç¤º -->
    <view class="section">
      <view class="section-title">åˆ—è¡¨ç»„ä»¶</view>
      <demo-section title="åŸºç¡€åˆ—è¡¨">
        <list-component items="{{listItems}}"></list-component>
      </demo-section>
    </view>

    <!-- è½®æ’­å›¾å±•ç¤º -->
    <view class="section">
      <view class="section-title">è½®æ’­å›¾ç»„ä»¶</view>
      <demo-section title="å›¾ç‰‡è½®æ’­">
        <swiper class="swiper-container" indicator-dots="true" autoplay="true" interval="{{ 3000 }}" duration="{{ 500 }}">
          <swiper-item wx:for="{{banners}}" wx:key="id">
            <view class="swiper-item" style="background: {{item.color}}">
              <view class="banner-content">
                <view class="banner-title">{{item.title}}</view>
                <view class="banner-desc">{{item.description}}</view>
              </view>
            </view>
          </swiper-item>
        </swiper>
      </demo-section>
    </view>

    <!-- å¼¹çª—å±•ç¤º -->
    <view class="section">
      <view class="section-title">å¼¹çª—ç»„ä»¶</view>
      <demo-section title="ç³»ç»Ÿå¼¹çª—">
        <view class="button-group">
          <button class="btn-primary" bindtap="showModal">æ˜¾ç¤ºå¯¹è¯æ¡†</button>
          <button class="btn-secondary" bindtap="showActionSheet">æ˜¾ç¤ºæ“ä½œèœå•</button>
          <button class="btn-success" bindtap="showLoading">æ˜¾ç¤ºåŠ è½½ä¸­</button>
        </view>
      </demo-section>
    </view>

    <!-- å½“å‰è¡¨å•æ•°æ®å±•ç¤º -->
    <view class="section">
      <demo-section title="å½“å‰æ•°æ®">
        <view class="data-display card">
          <view class="data-item">
            <text class="data-label">ç”¨æˆ·åï¼š</text>
            <text class="data-value">{{formData.username || 'æœªå¡«å†™'}}</text>
          </view>
          <view class="data-item">
            <text class="data-label">å¹´é¾„ï¼š</text>
            <text class="data-value">{{formData.age || 'æœªå¡«å†™'}}</text>
          </view>
          <view class="data-item">
            <text class="data-label">åŸå¸‚ï¼š</text>
            <text class="data-value">{{cities[cityIndex] || 'æœªé€‰æ‹©'}}</text>
          </view>
          <view class="data-item">
            <text class="data-label">æ—¥æœŸï¼š</text>
            <text class="data-value">{{selectedDate || 'æœªé€‰æ‹©'}}</text>
          </view>
          <view class="data-item">
            <text class="data-label">é€šçŸ¥ï¼š</text>
            <text class="data-value">{{switchValue ? 'å¼€å¯' : 'å…³é—­'}}</text>
          </view>
          <view class="data-item">
            <text class="data-label">éŸ³é‡ï¼š</text>
            <text class="data-value">{{sliderValue}}%</text>
          </view>
        </view>
      </demo-section>
    </view>
  </scroll-view>
</template>

<script>
import { createPage } from '@mpxjs/core'
import mpx from '@mpxjs/core'

createPage({
  data: {
    formData: {
      username: '',
      age: '',
      description: ''
    },
    cities: ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æ­å·', 'æˆéƒ½'],
    cityIndex: 0,
    selectedDate: '',
    switchValue: true,
    sliderValue: 50,
    listItems: [
      { id: 1, title: 'åˆ—è¡¨é¡¹ç›® 1', subtitle: 'è¿™æ˜¯ç¬¬ä¸€ä¸ªåˆ—è¡¨é¡¹ç›®çš„æè¿°', avatar: 'ğŸ‘¤' },
      { id: 2, title: 'åˆ—è¡¨é¡¹ç›® 2', subtitle: 'è¿™æ˜¯ç¬¬äºŒä¸ªåˆ—è¡¨é¡¹ç›®çš„æè¿°', avatar: 'ğŸ ' },
      { id: 3, title: 'åˆ—è¡¨é¡¹ç›® 3', subtitle: 'è¿™æ˜¯ç¬¬ä¸‰ä¸ªåˆ—è¡¨é¡¹ç›®çš„æè¿°', avatar: 'ğŸ“±' },
      { id: 4, title: 'åˆ—è¡¨é¡¹ç›® 4', subtitle: 'è¿™æ˜¯ç¬¬å››ä¸ªåˆ—è¡¨é¡¹ç›®çš„æè¿°', avatar: 'ğŸ’¼' }
    ],
    banners: [
      { id: 1, title: 'è½®æ’­å›¾ 1', description: 'è¿™æ˜¯ç¬¬ä¸€å¼ è½®æ’­å›¾', color: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' },
      { id: 2, title: 'è½®æ’­å›¾ 2', description: 'è¿™æ˜¯ç¬¬äºŒå¼ è½®æ’­å›¾', color: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)' },
      { id: 3, title: 'è½®æ’­å›¾ 3', description: 'è¿™æ˜¯ç¬¬ä¸‰å¼ è½®æ’­å›¾', color: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)' }
    ]
  },

  methods: {
    showToast(e) {
      const message = e.currentTarget.dataset.message || 'æŒ‰é’®ç‚¹å‡»'
      mpx.showToast({
        title: message,
        icon: 'success'
      })
    },

    onUsernameInput(e) {
      this.formData.username = e.detail.value
    },

    onAgeInput(e) {
      this.formData.age = e.detail.value
    },

    onDescriptionInput(e) {
      this.formData.description = e.detail.value
    },

    onCityChange(e) {
      this.cityIndex = e.detail.value
    },

    onDateChange(e) {
      this.selectedDate = e.detail.value
    },

    onSwitchChange(e) {
      this.switchValue = e.detail.value
    },

    onSliderChange(e) {
      this.sliderValue = e.detail.value
    },

    showModal() {
      mpx.showModal({
        title: 'æç¤º',
        content: 'è¿™æ˜¯ä¸€ä¸ªæ¨¡æ€å¯¹è¯æ¡†',
        success: (res) => {
          if (res.confirm) {
            mpx.showToast({ title: 'ç‚¹å‡»äº†ç¡®å®š', icon: 'success' })
          } else {
            mpx.showToast({ title: 'ç‚¹å‡»äº†å–æ¶ˆ', icon: 'none' })
          }
        }
      })
    },

    showActionSheet() {
      mpx.showActionSheet({
        itemList: ['é€‰é¡¹A', 'é€‰é¡¹B', 'é€‰é¡¹C'],
        success: (res) => {
          mpx.showToast({
            title: `é€‰æ‹©äº†é€‰é¡¹${res.tapIndex + 1}`,
            icon: 'success'
          })
        }
      })
    },

    showLoading() {
      mpx.showLoading({
        title: 'åŠ è½½ä¸­...'
      })
      setTimeout(() => {
        mpx.hideLoading()
        mpx.showToast({
          title: 'åŠ è½½å®Œæˆ',
          icon: 'success'
        })
      }, 2000)
    }
  }
})
</script>

<style lang="stylus">
.container
  padding 0 20rpx 40rpx
  
.header
  text-align center
  background linear-gradient(135deg, #667eea 0%, #764ba2 100%)
  color white
  margin-bottom 30rpx
  
  .title
    color white
    font-size 36rpx
    font-weight 600
    
  .subtitle
    color rgba(255, 255, 255, 0.9)
    font-size 26rpx

.section
  margin-bottom 40rpx
  
.section-title
  font-size 32rpx
  font-weight 600
  color #333
  margin-bottom 20rpx
  padding-left 20rpx
  border-left 6rpx solid #667eea

.button-group
  display flex
  flex-wrap wrap
  gap 15rpx
  
  button
    flex 1
    min-width 120rpx
    
.btn-success
  background #28a745
  color white
  border none
  border-radius 8rpx
  padding 20rpx 30rpx
  font-size 28rpx
  
.btn-warning
  background #ffc107
  color #333
  border none
  border-radius 8rpx
  padding 20rpx 30rpx
  font-size 28rpx
  
.btn-danger
  background #dc3545
  color white
  border none
  border-radius 8rpx
  padding 20rpx 30rpx
  font-size 28rpx
  
.btn-large
  padding 25rpx 50rpx
  font-size 32rpx
  
.btn-medium
  padding 20rpx 40rpx
  font-size 28rpx
  
.btn-small
  padding 15rpx 30rpx
  font-size 24rpx

.form-group
  .input-field, .textarea-field
    width 100%
    padding 25rpx 30rpx
    border 2rpx solid #e9ecef
    border-radius 8rpx
    font-size 28rpx
    margin-bottom 20rpx
    box-sizing border-box
    
  .textarea-field
    min-height 120rpx

.picker-group
  .picker-item
    padding 25rpx 30rpx
    border 2rpx solid #e9ecef
    border-radius 8rpx
    font-size 28rpx
    margin-bottom 20rpx
    background white
    
.control-group
  .control-item
    display flex
    justify-content space-between
    align-items center
    padding 25rpx 0
    border-bottom 1rpx solid #f0f0f0
    
    &:last-child
      border-bottom none
      
    text
      font-size 28rpx
      color #333
      
    slider
      flex 1
      margin-left 30rpx

.swiper-container
  height 300rpx
  border-radius 12rpx
  overflow hidden
  
  .swiper-item
    height 100%
    display flex
    align-items center
    justify-content center
    
    .banner-content
      text-align center
      color white
      
      .banner-title
        font-size 36rpx
        font-weight 600
        margin-bottom 10rpx
        
      .banner-desc
        font-size 26rpx
        opacity 0.9

.data-display
  background #f8f9fa
  
  .data-item
    display flex
    justify-content space-between
    padding 15rpx 0
    border-bottom 1rpx solid #e9ecef
    
    &:last-child
      border-bottom none
      
    .data-label
      color #666
      font-size 26rpx
      
    .data-value
      color #333
      font-size 26rpx
      font-weight 500
</style>

<script type="application/json">
{
  "usingComponents": {
    "demo-section": "../components/demo-section",
    "list-component": "../components/list-component"
  },
  "navigationBarTitleText": "ç»„ä»¶å±•ç¤º"
}
</script>